# TDD & JEST

## TDD(Test Driven Development)

### TDD Cycle

1. Red -> 빠르게 실패하는 코드를 작성하고
2. Green -> 빠르게 고쳐 테스트를 통과 시키고
3. Refactor -> 신속하게 리팩터링을 통해 코드를 올바르게 만든다.

>2번이 어렵다면 1번으로 돌아가서 더 작고 쉬운 문제를 정의하고, 3번을 위해 의도를 드러내고 중복을 찾아 제거하는 연습을 해야한다.

중복제거(한번만, 반복하지 않기, 삼진아웃, 자동화)

> 중복제거 단계에서는 모듈화가 가능한 잠재적 추상화가 있는지  
> 코드를 검토하여 자연스럽게 코드를 확장 가능하게 만든다.

TDD는 인터페이스와 예제, 기대하는 결과를 먼저 작성하는 걸로 시작 

```jsx
// 중복되는 코드
function greetMorning(name) {
  console.log("Good morning, " + name + "!");
}

function greetEvening(name) {
  console.log("Good evening, " + name + "!");
}

// 추상화를 적용한 코드
function greet(timeOfDay, name) {
  console.log(`Good ${timeOfDay}, ${name}!`);
}

// 함수 사용
greet("morning", "Alice");
greet("evening", "Bob");

```

## JEST

자바스크립트 테스트 프레임워크  
쉬운 설정과 mocking 기능, watch mode, code coverage 기능을 제공하여 JavaScript 코드의 테스트를 강력하게 지원 한다

바벨이나 리액트 다양한 환경에서 사용가능 

**테스트 케이스를 정의할 때 크게 두 가지 방법으로 사용한다.** 
> test 함수로 개별 테스트를 나열하는 방식  
> BDD스타일로 주체 - 행위 중심으로 테스트를 조직화하는 방식

## Describe-Context-It 패턴

테스트 대상에 대해 좀 더 섬세하게 설명하는 방식  
**Describe**: 설명할 테스트 대상을 명시  
-> 일반적으로 테스트할 함수나 컴포넌트의 이름을 사용하여 설명

**Context**: 테스트 대상이 놓인 상황을 설명  
-> 테스트를 실행할 특정 조건이나 상황을 설명  

**It**: 테스트 대상의 행동을 설명  
-> 실제 테스트를 실행하고 예상 결과를 설명

## 단위 테스트란 ?

소프트웨어의 가장 작은 단위(각각의 함수나 메서드)에 대한 테스트  

단위 테스트를 작성하면 코드의 구조화가 자연스럽게 설계 되고 오류가 있는 코드를 빠르게 찾아 낼 수 있어 예상치 못한 버그에 대처하기 유연하다.  

단위 테스트에 대한 상황을 설명하기에 문서화 역할도 한다.  

> 단위 테스트를 작성하면 자연스럽게 코드의 모듈화가 되어 유지보수가 편이한 코드를 작성할 가능성이 높아지고 단위 테스트를 통해 오류가 있는 코드를 빠르게 탐색하여 디버깅에도 용이하다.