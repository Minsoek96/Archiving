# 컴퓨터의 프로그램끼리는 이렇게 데이터를 주고 받는다.

## 4계층 프로토콜

전송 계층 송신자와 수신자 간의 프로세스 간 통신을 관리하고 제어하는 중요한 역할을 한다.  
연결 지향 데이터 스트림 지원, 신뢰성, 흐름 제어, 그리고 다중화와 같은 편리한 서비스 제공

- **연결 지향 데이터 스트림 지원**
  - 프로세스 간 연결을 설정하여 안정적인 데이터 전송을 보장한다. 연결을 설정한 후 데이터를 송수신하며, 전송이 완료되면 연결을 종료한다.
- **신뢰성**
  - 오류 검출 및 재전송 메커니즘을 사용하여 데이터의 신뢰성을 보장한다.
- **흐름 제어**
  - 데이터 송수신 속도의 균형을 맞추어 송신자가 너무 빠르게 데이터를 전송하여 수신자가 이를 처리하지 못하는 상황을 방지한다.
- **다중화**
  - 포트번호를 이용하여 각각의 프로그램을 구분하고, 서로 다른 트래픽을 동시에 처리할 수 있게 한다.

TCP - 연결 지향 방식 , UDP - 비연결 지향 방식

### 포트번호의 특징

포트 번호는 네트워크 통신에서 프로세스 간 데이터를 구분하고, 특정 프로세스로 데이터를 전달하기 위한 식별자로 사용된다.

> IP가 호스트를 식별한다면, 포트 번호는 그 호스트 내에서 특정 애플리케이션을 식별 한다.

#### 포트 번호의 주요 특성

1. **16비트** 포트 번호는 16비트 숫자이며, 값의 범위는 0 ~ 65535
2. **프로토콜 의존성** TCP나 UDP같은 전송 계층 프로토콜과 함께 사용된다.
3. **동시성** 한 서버는 여러 포트에서 동시에 동작할 수 있따.

### 포트 번호 분류

#### Well-know 포트 (잘 알려진 포트)

| 서비스 | 포트번호   |
| ------ | ---------- |
| FTP    | 20번, 21번 |
| SSH    | 22번       |
| TELNET | 23번       |
| DNS    | 53번       |
| DHCP   | 67번, 68번 |
| TFTP   | 69번       |
| HTTP   | 80번       |
| HTTPS  | 443번      |

#### Registered 포트(등록된 포트)

| 서비스           | 포트번호 |
| ---------------- | -------- |
| 오라클 DB 서버   | 1521번   |
| MYSQL 서버       | 3306번   |
| MS 원격 데스크탑 | 3389번   |

#### Dynamic 포트 (동적 포트)

| 시작 포트 번호 | 마지막 포트 번호 |
| -------------- | ---------------- |
| 49152번        | 65535번          |

`연결정보확인 netstate - ano`

## UDP 

사용자 데이터그램 프로토콜 (UDP, User Datagram Protoco)은 통신에 있어 매우 단순한 전송 방식으로, 전송 계층 프로토콜 중 하나이다. 유니버셜 데이터그램 프로토콜(Universal Datagram Protocol)이라고도 불릴 때가 있지만, 정확한 명칭은 `User Datagram Protocol`이다. 

### 특성 

- **연결 설정 없음**
  - UDP는 TCP와 달리 통신을 시작하기 전에 연결 설정을 하지 않는다.
  - 빠른 전송이 가능하지만, 신뢰성이 떨어진다.
- **데이터 그램 방식**
  - 각 데이터그램이 독립된 패킷으로 전송된다.
  - 수신된 데이터그램이 도착 순서가 바뀌거나, 중복되거나, 누락될 가능성이 있다.
- **오류 검출 및 수정 없음** 
  - TCP처럼 오류를 검사하거나 수정하지 않는다.
- **비신뢰성**
  - 데이터가 손실되거나 지연될 수 있다.

![udp](/dev/network/udp.png)
